
set @v1a="Hello";
set @v2a="World";
set @v3a=65;
set @v4a=NULL;

select @v1a, @v2a, @v3a, @v4a, @v_unknown;

select VARIABLE_NAME, VARIABLE_VALUE
  from performance_schema.user_variables_by_thread
  order by VARIABLE_NAME;

connect(con1, localhost, root,,);

set @v1b="Salut";
set @v2b="La compagnie";
set @v3b=12;
set @v4b=NULL;

select @v1b, @v2b, @v3b, @v4b, @v_unknown;

select VARIABLE_NAME, VARIABLE_VALUE
  from performance_schema.user_variables_by_thread
  order by VARIABLE_NAME;

--connection default
--disconnect con1

# Wait till all disconnects are completed
let $count_sessions= 1;
--source include/wait_until_count_sessions.inc

select VARIABLE_NAME, VARIABLE_VALUE
  from performance_schema.user_variables_by_thread
  order by VARIABLE_NAME;

# Make sure large values are not truncated
set @blob_under_16_bits=repeat("a", 65000);
set @blob_under_24_bits=repeat("a", 1000000);

# Not testable because of limitation on max_allowed_packet
# set @blob_under_32_bits=repeat("a", 20000000);

select length(@blob_under_16_bits);
select length(@blob_under_24_bits);
# select length(@blob_under_32_bits);

select variable_name, length(variable_value)
  from performance_schema.user_variables_by_thread
  where VARIABLE_NAME like "blob%"
  order by VARIABLE_NAME;

