# Tests for PERFORMANCE_SCHEMA

--source include/not_embedded.inc
--source include/have_perfschema.inc
--source include/master-slave.inc

connection master;

-- error ER_DBACCESS_DENIED_ERROR
alter table performance_schema.replication_execute_configuration
  add column foo integer;

-- error ER_WRONG_PERFSCHEMA_USAGE
truncate table performance_schema.replication_execute_configuration;

-- error ER_DBACCESS_DENIED_ERROR
ALTER TABLE performance_schema.replication_execute_configuration
   ADD INDEX test_index(desired_delay);

-- error ER_DBACCESS_DENIED_ERROR
CREATE UNIQUE INDEX test_index ON
  performance_schema.replication_execute_configuration(desired_delay);

connection slave;

-- error ER_DBACCESS_DENIED_ERROR
alter table performance_schema.replication_execute_configuration
  add column foo integer;

-- error ER_WRONG_PERFSCHEMA_USAGE
truncate table performance_schema.replication_execute_configuration;

-- error ER_DBACCESS_DENIED_ERROR
ALTER TABLE performance_schema.replication_execute_configuration
   ADD INDEX test_index(desired_delay);

-- error ER_DBACCESS_DENIED_ERROR
CREATE UNIQUE INDEX test_index ON 
  performance_schema.replication_execute_configuration(desired_delay);

--source include/rpl_end.inc
