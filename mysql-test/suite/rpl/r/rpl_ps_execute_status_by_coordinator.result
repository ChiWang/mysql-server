include/master-slave.inc
Warnings:
Note	####	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	####	Storing MySQL user name or password information in the master.info repository is not secure and is therefore not recommended. Please see the MySQL Manual for more about this issue and possible alternatives.
[connection master]
call mtr.add_suppression("Error 'Table 'test.t' doesn't exist' on query.");
select * from performance_schema.replication_execute_status_by_coordinator;
insert into performance_schema.replication_execute_status_by_coordinator values(1);
update performance_schema.replication_execute_status_by_coordinator set Service_State='';
delete from performance_schema.replication_execute_status_by_coordinator;
sql thread id extracted from SHOW PROCESSLIST and PS table match.
# Asserted this: Value returned by SSS and PS table for Last_Error_Number should be same.
# Asserted this: Value returned by SSS and PS table for Last_Error_Message should be same.
# Asserted this: Value returned by SSS and PS table for Last_Error_Timestamp should be same.
# Asserted this: SSS shows Slave_SQL_Running as "Yes". So, Service_State from this PS table should be "On".
use test;
create table t(a int primary key);
drop table t;
insert into t values(1);
include/wait_for_slave_sql_error.inc [errno=1146]
# Asserted this: Value returned by SSS and PS table for Last_Error_Number should be same.
Value returned by SSS and PS table for Last_Error_Message is same.
# Asserted this: Value returned by SSS and PS table for Last_Error_Timestamp should be same.
# Asserted this: Value returned by SSS and PS table for Last_Error_Number should be same.
Value returned by SSS and PS table for Last_Error_Message is same.
# Asserted this: Value returned by SSS and PS table for Last_Error_Timestamp should be same.
STOP SLAVE;
RESET SLAVE;
drop table t;
RESET MASTER;
include/rpl_restart_server.inc [server_number=1]
include/rpl_restart_server.inc [server_number=2]
change master to master_host='127.0.0.1',master_port=MASTER_MYPORT, master_user='root';
Warnings:
Note	###	Sending passwords in plain text without SSL/TLS is extremely insecure.
Note	###	Storing MySQL user name or password information in the master.info repository is not secure and is therefore not recommended. Please see the MySQL Manual for more about this issue and possible alternatives.
start slave;
# Asserted this: Value returned by SSS and PS table for Last_Error_Number should be same.
Value returned by SSS and PS table for Last_Error_Message is same.
# Asserted this: Value returned by SSS and PS table for Last_Error_Timestamp should be same.
include/rpl_end.inc
