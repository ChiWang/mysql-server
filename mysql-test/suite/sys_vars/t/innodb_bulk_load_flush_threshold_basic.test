
#
#  2014-03-26 - Added
#

--source include/have_innodb.inc

#
# show the global and session values;
#
select @@global.innodb_bulk_load_flush_threshold;
--error ER_INCORRECT_GLOBAL_LOCAL_VAR
select @@session.innodb_bulk_load_flush_threshold;
show global variables like 'innodb_bulk_load_flush_threshold';
show session variables like 'innodb_bulk_load_flush_threshold';
select * from information_schema.global_variables where variable_name='innodb_bulk_load_flush_threshold';
select * from information_schema.session_variables where variable_name='innodb_bulk_load_flush_threshold';

#
# test default, min, max value
#
let $innodb_bulk_load_flush_threshold_orig=`select @@innodb_bulk_load_flush_threshold`;

set global innodb_bulk_load_flush_threshold=99;
select @@innodb_bulk_load_flush_threshold;

set global innodb_bulk_load_flush_threshold=100;
select @@innodb_bulk_load_flush_threshold;

set global innodb_bulk_load_flush_threshold=500;
select @@innodb_bulk_load_flush_threshold;

set global innodb_bulk_load_flush_threshold=100000;
select @@innodb_bulk_load_flush_threshold;

set global innodb_bulk_load_flush_threshold=100001;
select @@innodb_bulk_load_flush_threshold;

eval set global innodb_bulk_load_flush_threshold=$innodb_bulk_load_flush_threshold_orig;
